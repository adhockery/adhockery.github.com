<!doctype html>
<html class="no-js">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Ad-Hockery</title>
    <link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/feed.xml" />
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/Icon.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/Icon@2x.png">
    <link rel="stylesheet" href="/stylesheets/adhockery.css">
    <link rel="stylesheet" href="/stylesheets/prism.css">
    <script src="/javascripts/modernizr.custom.js"></script>
    <script src="//use.edgefonts.net/ultra;league-gothic.js"></script>
  </head>
  <body>

    <header>
      <h1 class="logo"><a href="/">Ad-Hockery</a></h1>
      <dl class="strapline">
        <dt>ad-hockery: <em>/ad·hok'@r·ee/</em>, n.</dt>
        <dd>Gratuitous assumptions... which lead to the appearance of semi-intelligent behavior but are in fact entirely arbitrary. <cite><a href="http://www.retrologic.com/jargon/A/ad-hockery.html">Jargon File</a></cite>
      </dl>
    </header>

    <div class="container">
      <main>
          <article>
    <header>
      <time datetime="2013-03-29T12:30:00">Mar 29 2013</time>
      <h2><a href="/2013/03/29/groovy-gotcha-for-loops-and-closure-scope/">Groovy gotcha: for loops and closure scope</a></h2>
    </header>
    <div class="paragraph">
<p>You probably know that Groovy closures retain information about the scope in which they were created. The closure body can refer to values that were in scope where the closure was declared. There is a gotcha here that has bitten me a few times, though. That&#8217;s when closures are created in a <code>for</code> loop.</p>
</div>
<div class="paragraph">
<p>Consider this example.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="groovy language-groovy">def fns = []
for (i in (1..5)) {
    fns &lt;&lt; {-&gt;
        println i
    }
}
fns.each { it() }</code></pre>
</div>
</div>
<div class="paragraph">
<p>What will get printed to <em>sysout</em>? Give up? You can <a href="http://groovyconsole.appspot.com/script/920002">run the script on Groovy Web Console</a>. The output is this:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>5
5
5
5
5</pre>
</div>
</div>

    <a class="read-more" href="/2013/03/29/groovy-gotcha-for-loops-and-closure-scope/">Read more…</a>
  </article>
  <hr>
  <article>
    <header>
      <time datetime="2013-03-22T00:16:00">Mar 22 2013</time>
      <h2><a href="/2013/03/22/stateful-interactions-in-spock/">Stateful interactions in Spock</a></h2>
    </header>
    <div class="paragraph">
<p>The Java mocking library <a href="http://jmock.org/">jMock</a> has <a href="http://jmock.org/states.html">a nice feature for dealing with verifying mock interactions in stateful circumstances</a>. I first came across it when reading <a href="http://www.growing-object-oriented-software.com/">Growing Object-Oriented Software Guided By Tests</a> (<em>GOOS</em>) by Steve Freeman &amp; Nat Pryce.</p>
</div>
<div class="paragraph">
<p>I was curious as to whether I could implement something similar with <em>Spock</em>. There&#8217;s no syntactic support right now (although there is <a href="http://code.google.com/p/spock/issues/detail?id=130">an open issue</a>) but it&#8217;s not that complex to achieve something adequate.</p>
</div>

    <a class="read-more" href="/2013/03/22/stateful-interactions-in-spock/">Read more…</a>
  </article>
  <hr>
  <article>
    <header>
      <time datetime="2013-02-26T14:08:20">Feb 26 2013</time>
      <h2><a href="/2013/02/26/grails-builds-on-travis-ci/">Grails builds on Travis CI</a></h2>
    </header>
    <div class="paragraph">
<p><a href="https://travis-ci.org/">Travis CI</a> is a cloud based continuous integration service. It&#8217;s a great way to automate test runs for projects hosted on GitHub. Since the Grails wrapper was added to Grails in version 2.1 you can use Travis to build Grails apps.</p>
</div>

    <a class="read-more" href="/2013/02/26/grails-builds-on-travis-ci/">Read more…</a>
  </article>
  <hr>
  <article>
    <header>
      <time datetime="2013-02-17T07:23:32">Feb 17 2013</time>
      <h2><a href="/2013/02/17/groovy-the-public-keyword/">Groovy & the public keyword</a></h2>
    </header>
    <div class="paragraph">
<p>One of the first things you learn in Groovy is that unlike Java <code>public</code> is the default scope for properties and methods declared on classes. Most developers get into the habit of simply omitting the <code>public</code> keyword everywhere. But, is there any situation where it&#8217;s the right thing to use? Actually, yes.</p>
</div>

    <a class="read-more" href="/2013/02/17/groovy-the-public-keyword/">Read more…</a>
  </article>
  <hr>
  <article>
    <header>
      <time datetime="2013-02-13T16:21:30">Feb 13 2013</time>
      <h2><a href="/2013/02/13/deprecating-grails-plugins/">Deprecating Grails plugins</a></h2>
    </header>
    <div class="paragraph">
<p>I&#8217;ve written a number of Grails plugins and the fact is that some of them are effectively unsupported. I&#8217;ve only got so much time &amp; I&#8217;m juggling work, family, conference speaking, my own projects and open source. Any plugin development I do is going to be driven by the requirements of work or other projects, so even those plugins I still consider as supported might not get updated as often as some people would like.</p>
</div>

    <a class="read-more" href="/2013/02/13/deprecating-grails-plugins/">Read more…</a>
  </article>
  <hr>
  <article>
    <header>
      <time datetime="2013-02-11T22:37:00">Feb 11 2013</time>
      <h2><a href="/2013/02/11/dynamic-templates-in-angular-routes/">Dynamic templates in Angular routes</a></h2>
    </header>
    <div class="paragraph">
<p>We&#8217;re building an application where content can be published using different layouts selected by an editor. In Angular this translates to a situation where the same route &amp; controller will need to display content from the same <code>$http</code> endpoint using a range of different templates. The name of the template is included in the JSON data returned by the <code>$http</code> endpoint so it&#8217;s not known at the time the route is triggered.</p>
</div>

    <a class="read-more" href="/2013/02/11/dynamic-templates-in-angular-routes/">Read more…</a>
  </article>
  <hr>
  <article>
    <header>
      <time datetime="2013-02-05T16:13:00">Feb  5 2013</time>
      <h2><a href="/2013/02/05/css-background-transformations/">CSS background transformations</a></h2>
    </header>
    <div class="paragraph">
<p>CSS3 includes a bunch of <code>transform</code> options allowing things like rotation &amp; distortion of element boxes. I wanted to apply that to achieve an effect inspired by <a href="https://www.google.com/images?q=googie+signage">mid 20th Century <em>Googie</em> signage</a>.</p>
</div>
<div class="paragraph">
<p>My goal was to distort just the background behind an element whilst leaving the text alone. The text should also be able to "escape" from the background, for example letters can overflow beyond the background.</p>
</div>
<div class="paragraph">
<p>Naturally, being a CSS purist I also wanted to do all this without introducing non-semantic extra elements into the document.</p>
</div>

    <a class="read-more" href="/2013/02/05/css-background-transformations/">Read more…</a>
  </article>
  <hr>
  <article>
    <header>
      <time datetime="2013-02-03T07:53:00">Feb  3 2013</time>
      <h2><a href="/2013/02/03/ad-hockery-on-tumblr/">Ad-Hockery on Tumblr</a></h2>
    </header>
    <div class="paragraph">
<p>There&#8217;s nothing more boring than an <em>"I moved my blog"</em> post but a couple of people have actually asked me to write up something about why I chose Tumblr &amp; how I used <a href="http://gruntjs.com/">Grunt</a> to help me build the theme. So – sorry – here&#8217;s my <em>"I moved my blog"</em> post…</p>
</div>

    <a class="read-more" href="/2013/02/03/ad-hockery-on-tumblr/">Read more…</a>
  </article>
  <hr>
  <article>
    <header>
      <time datetime="2013-01-20T05:54:00">Jan 20 2013</time>
      <h2><a href="/2013/01/20/getting-started-with-angular-unit-tests/">Getting started with Angular unit tests</a></h2>
    </header>
    <div class="paragraph">
<p>I&#8217;ve been pretty enthusiastic about <a href="http://angularjs.org/">Angular</a> for a while now but although I was encouraged by the consideration given to testing hadn&#8217;t really tried unit testing my Angular components. I&#8217;ve been using <a href="http://casperjs.org/">Casper</a> to test end-to-end which has been good enough for the experimental stuff I&#8217;d been doing with Angular. When I recently started working on a <em>real</em> app with a fairly complex Angular controller it felt like I needed to define the logic with some fine-grained unit tests.</p>
</div>

    <a class="read-more" href="/2013/01/20/getting-started-with-angular-unit-tests/">Read more…</a>
  </article>
  <hr>
  <article>
    <header>
      <time datetime="2013-01-19T17:20:00">Jan 19 2013</time>
      <h2><a href="/2013/01/19/coffeescript-gotchas-for-loops/">CoffeeScript Gotchas: for loops</a></h2>
    </header>
    <div class="paragraph">
<p>I was caught out by a subtle difference between JavaScript and CoffeeScript yesterday.</p>
</div>

    <a class="read-more" href="/2013/01/19/coffeescript-gotchas-for-loops/">Read more…</a>
  </article>
  <hr>

  <nav class="pagination">
      <a rel="prev" href="/page/2/">Previous</a>
    <span class="current">3 of 11</span>
      <a rel="next" href="/page/4/">Next</a>
  </nav>

      </main>

      <footer>
        <nav>
          <a href="/">Home</a>
          <a href="/about">About</a>
          <a href="/archive">Archive</a>
        </nav>
      </footer>
    </div>

    <script src="/javascripts/adhockery.js"></script>
    <script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-27275689-1', 'auto');
  ga('send', 'pageview');
</script>

    <!-- clicky analytics -->
    <a title="Web Statistics" href="http://clicky.com/100768647"><img alt="Web Statistics" src="//static.getclicky.com/media/links/badge.gif" border="0" /></a>
    <script type="text/javascript">
    var clicky_site_ids = clicky_site_ids || [];
    clicky_site_ids.push(100768647);
    (function() {
      var s = document.createElement('script');
      s.type = 'text/javascript';
      s.async = true;
      s.src = '//static.getclicky.com/js';
      ( document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0] ).appendChild( s );
    })();
    </script>
    <noscript><p><img alt="Clicky" width="1" height="1" src="//in.getclicky.com/100768647ns.gif" /></p></noscript>
    <!-- / analytics -->
    
  </body>
</html>
