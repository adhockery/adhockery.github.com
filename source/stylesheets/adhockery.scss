$teal: #8ECDC5;
$red: #E84327;
$black: #141615;

$serif-font-family: Palatino, "Palatino Linotype", "Palatino LT STD", "Book Antiqua", Georgia, serif;
$display-font-family: "Francois One", "Oswald", "Franklin Gothic Medium", "Franklin Gothic", "ITC Franklin Gothic", Arial, sans-serif;
$mono-font-family: "Courier New", Courier, monospace;

// compass overrides
$contrasted-dark-default: #222;

// normalize overrides
$base-font-size: 18px;
$base-font-family: $serif-font-family;

@import "compass";
@import "normalize";
@import "susy";

@import "fout";
@import "logo";

@include establish-baseline;

// border box sizing including adjustments for susy grid (Susy has a mixin for
// this but it doesn't do the before & after pseudo-elements)
$border-box-sizing: true;
*, *:before, *:after {
  @include box-sizing(border-box);
}

// use webfont for main headers
h1, h2 {
  font-family: $display-font-family;
  .fontface & {
    font-weight: 400;
  }
}

// monospace font for code
code, kbd, pre, samp {
  font-family: $mono-font-family;
  font-smoothing: auto;
}

// pre blocks are horizontally scrollable with no wrapping
pre {
  white-space: pre;
  word-wrap: initial;
  overflow-x: auto;
  overflow-y: visible;

  background: #f2f2f2;
  border: 1px solid #d8d8d8;
  padding: 1em;
}

ul, ol {
  padding: 0;
}

#site-header {
  background: $black;
  padding: 0 0.5em;
}

main, #site-nav {
  @include container(10);
  > * {
    @include span-columns(12);
  }
}

#site-nav {
  .recent, .archive, .tags {
    background: {
      color: $red;
      image: image-url('green-dust-and-scratches.png');
    }
    @include leader(1);
    @include trailer(1);
  }

  .recent, .archive, .tags {
    position: relative;
    &:after {
      content: "";
      position: absolute;
      top: 0;
      right: 0;
      display: block;
      background: {
        position: center right;
        repeat: no-repeat;
        size: contain;
      }
      height: 100%;
      width: 100%;
    }
  }

  .recent:after {
    background-image: image-url('paperboy.png');
  }

  .archive:after {
    background-image: image-url('archivist.png');
  }

  .tags:after {
    background-image: image-url('paperthrow.png');
  }

  // .recent {
  //   @include span-columns(6);
  // }
  // .archive, .tags {
  //   @include span-columns(3);
  // }
}

body {
  background: $teal;
}

article {
  background: #fff;
  @include leader(1);
  @include trailer(1);
  header {
    // contain the h1/2 margins in the header
    @include clearfix;

    // retro paper background
    background-color: $red;
    background-image: image-url('green-dust-and-scratches.png');
    color: #fff;
    a {
      @include unstyled-link;
    }

    // extend horizontal edges outside bounds
    margin: 0 -1em;
    padding: 0 1em;

    // use h1 header sizes for article headers on the index page
    h2 {
      @include adjust-font-size-to($h1-font-size);
      @include leader(1, $h1-font-size);
      @include trailer(1, $h1-font-size);
    }
  }
}

.listingblock .title {
  @include adjust-font-size-to($h3-font-size);
  @include leader(1, $h3-font-size);
  @include trailer(0, $h3-font-size);
  font-weight: 700;
}

ul.tag-list {
  @include inline-list;
}
