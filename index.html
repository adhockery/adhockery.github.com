<!doctype html>
<html class="no-js">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Ad-Hockery</title>
    <link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/feed.xml" />
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/Icon.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/Icon@2x.png">
    <link rel="stylesheet" href="/stylesheets/adhockery.css">
    <link rel="stylesheet" href="/stylesheets/prism.css">
    <script src="/javascripts/modernizr.custom.js"></script>
    <script src="//use.edgefonts.net/ultra;league-gothic.js"></script>
  </head>
  <body>

    <header>
      <h1 class="logo"><a href="/">Ad-Hockery</a></h1>
      <dl class="strapline">
        <dt>ad-hockery: <em>/ad·hok'@r·ee/</em>, n.</dt>
        <dd>Gratuitous assumptions... which lead to the appearance of semi-intelligent behavior but are in fact entirely arbitrary. <cite><a href="http://www.retrologic.com/jargon/A/ad-hockery.html">Jargon File</a></cite>
      </dl>
    </header>

    <div class="container">
      <main>
          <article>
    <header>
      <time datetime="2014-09-24T10:26:00">Sep 24 2014</time>
      <h2><a href="/2014/09/24/how-can-i-test-it-if-i-dont-know-what-im-building-yet/">How can test it if I don't know what I'm building yet?</a></h2>
    </header>
    <div class="paragraph">
<p>One objection to the practice of TDD I&#8217;ve heard from several different people is along the lines of <em>“
I don&#8217;t know exactly what I&#8217;m building at the outset, the code is experimental, so how can I write tests for it?”</em></p>
</div>
<div class="paragraph">
<p>Frequently it is the case that you have an idea but don&#8217;t know the mechanics of how you&#8217;re going to implement it. I find this particularly when I&#8217;m writing code that extends a third-party library. You don&#8217;t know exactly where the API hooks you&#8217;ll need to use are, your understanding of the API is fuzzy and you expect to learn it as you go. So how do you test-drive in that situation?</p>
</div>

    <a class="read-more" href="/2014/09/24/how-can-i-test-it-if-i-dont-know-what-im-building-yet/">Read more…</a>
  </article>
  <hr>
  <article>
    <header>
      <time datetime="2014-08-11T11:46:00">Aug 11 2014</time>
      <h2><a href="/2014/08/11/multiple-interface-mocks-with-spock/">Multiple interface mocks with Spock</a></h2>
    </header>
    <div class="paragraph">
<p>Spock&#8217;s <code>Mock</code> factory method (as well as factories for the other types of test double; <code>Stub</code> &amp; <code>Spy</code>) accepts a single interface representing the type you need a test double for. But what should you do if you need a test double that implements multiple interfaces?</p>
</div>

    <a class="read-more" href="/2014/08/11/multiple-interface-mocks-with-spock/">Read more…</a>
  </article>
  <hr>
  <article>
    <header>
      <time datetime="2014-08-07T11:23:00">Aug  7 2014</time>
      <h2><a href="/2014/08/07/spock-and-hamcrest/">Spock and Hamcrest</a></h2>
    </header>
    <div class="paragraph">
<p>Groovy&#8217;s <em>power assert</em> and Hamcrest matchers both solve a similar problem – getting decent diagnostic information from an assertion failure. When writing JUnit or Spock tests in Groovy it&#8217;s typical to not use Hamcrest matchers as the <em>power assert</em> is so much simpler and just as effective. It&#8217;s worth bearing in mind, though that Hamcrest is also for helping clearly express the intent of an assertion. Spock provides support for Hamcrest matchers and I recently ran into a situation where I think it was the right thing to use.</p>
</div>

    <a class="read-more" href="/2014/08/07/spock-and-hamcrest/">Read more…</a>
  </article>
  <hr>
  <article>
    <header>
      <time datetime="2014-07-21T11:34:00">Jul 21 2014</time>
      <h2><a href="/2014/07/21/closures-and-field-visibility/">Closures and field visibility</a></h2>
    </header>
    <div class="paragraph">
<p>I find Groovy Closures can sometimes behave in ways that, once I think about it, make perfect sense but initially seem surprising. One example of this is the fact that closures <em>declared in a parent class</em> cannot “see” private fields of that class when run in the context of a child class.</p>
</div>

    <a class="read-more" href="/2014/07/21/closures-and-field-visibility/">Read more…</a>
  </article>
  <hr>
  <article>
    <header>
      <time datetime="2014-07-08T07:11:00">Jul  8 2014</time>
      <h2><a href="/2014/07/08/compilestatic-and-polymorphic-method-dispatch/">@CompileStatic and polymorphic method dispatch</a></h2>
    </header>
    <div class="paragraph">
<p>I&#8217;m a big fan of Groovy&#8217;s <code>@CompileStatic</code> feature – so much so that I&#8217;ve updated the <em>Groovy class</em> template in IntelliJ IDEA to use it by default. I should stress I don&#8217;t do this because I believe non-statically compiled Groovy to be slow – it isn&#8217;t.</p>
</div>
<div class="paragraph">
<p>Recently <a href="https://twitter.com/pledbrook/status/475986668840050688">Peter Ledbrook reminded me of one drawback</a> which is that method dispatch is statically bound when using <code>@CompileStatic</code> like it is in Java. This means that the behavior of calling polymorphic methods can change when argument types are not known at compile time.</p>
</div>

    <a class="read-more" href="/2014/07/08/compilestatic-and-polymorphic-method-dispatch/">Read more…</a>
  </article>
  <hr>
  <article>
    <header>
      <time datetime="2014-06-24T15:46:00">Jun 24 2014</time>
      <h2><a href="/2014/06/24/enabling-groovys-invokedynamic-support-in-gradle/">Enabling Groovy’s “invokedynamic” support in Gradle</a></h2>
    </header>
    <div class="paragraph">
<p>I posted <a href="/post/89759686171/gradle-and-groovys-invoke-dynamic-support">previously</a> about configuring a Gradle project to ensure that only the <em>indy</em> version of Groovy (that is the variant that supports Java 7&#8217;s <em>invokedynamic</em> bytecode instruction) is included in the dependency graph. However, just including that version of the Groovy jar is <strong>not</strong> enough to make your Groovy code compile in such a way that it uses <em>invokedynamic</em>.</p>
</div>

    <a class="read-more" href="/2014/06/24/enabling-groovys-invokedynamic-support-in-gradle/">Read more…</a>
  </article>
  <hr>
  <article>
    <header>
      <time datetime="2014-06-24T15:32:00">Jun 24 2014</time>
      <h2><a href="/2014/06/24/gradle-and-groovys-invoke-dynamic-support/">Gradle and Groovy’s Invoke Dynamic support</a></h2>
    </header>
    <div class="paragraph">
<p>Since version 2.0 the Groovy distribution has included an alternate artifact that enables <a href="http://docs.oracle.com/javase/7/docs/technotes/guides/vm/multiple-language-support.html#invokedynamic">invoke dynamic</a> support.</p>
</div>

    <a class="read-more" href="/2014/06/24/gradle-and-groovys-invoke-dynamic-support/">Read more…</a>
  </article>
  <hr>
  <article>
    <header>
      <time datetime="2014-06-22T08:27:00">Jun 22 2014</time>
      <h2><a href="/2014/06/22/static-analysis-and-strictness/">Static analysis and strictness</a></h2>
    </header>
    <div class="paragraph">
<p>Let me be clear – static analysis tools like Checkstyle and Codenarc are useful tools. But…</p>
</div>
<div class="paragraph">
<p>I don&#8217;t think you should have overly strict enforcement. There is a small class of static analysis rules that are unambiguous – you&#8217;re not using that <code>import</code>, that <code>if</code> block doesn&#8217;t have braces – but there is a large class of rules that exist in a grey area. Is that method really unused or is it invoked reflectively somewhere? Yes, generally we should declare constants for magic numbers but is it really necessary for the prime seed of a hash code method?</p>
</div>

    <a class="read-more" href="/2014/06/22/static-analysis-and-strictness/">Read more…</a>
  </article>
  <hr>
  <article>
    <header>
      <time datetime="2013-09-12T01:13:00">Sep 12 2013</time>
      <h2><a href="/2013/09/12/decoupling-from-the-dom-with-angular/">Decoupling from the DOM with Angular</a></h2>
    </header>
    <div class="paragraph">
<p>One piece of advice you&#8217;ll run into pretty soon when working with Angular is that you should never touch the DOM outside of a directive. Especially when test-driving your components this is pretty wise. The great strength of Angular is the declarative way in which the view (HTML) works with the view model (Angular controllers). It&#8217;s almost absurd how easy it is to unit test Angular controllers. Controller functions tend to act on <code>$scope</code> properties, trigger or respond to events and all those things are straightforward to replicate in unit tests.</p>
</div>

    <a class="read-more" href="/2013/09/12/decoupling-from-the-dom-with-angular/">Read more…</a>
  </article>
  <hr>
  <article>
    <header>
      <time datetime="2013-09-02T14:48:00">Sep  2 2013</time>
      <h2><a href="/2013/09/02/unit-testing-angular-directives-that-use-controller-and/">Unit testing Angular directives that use controller and templateUrl</a></h2>
    </header>
    <div class="paragraph">
<p>I spent an hour or so this morning figuring out how to unit test an Angular directive that uses a controller and a template loaded from a file (as opposed to inline). There&#8217;s a useful example in the <a href="https://github.com/vojtajina/ng-directive-testing">ng-directive-testing</a> repository but I thought a quick summary would be useful (as much to remind me the next time I have to do it as anything). Also the examples there test by interacting with DOM elements rather than directly with the directive&#8217;s scope.</p>
</div>

    <a class="read-more" href="/2013/09/02/unit-testing-angular-directives-that-use-controller-and/">Read more…</a>
  </article>
  <hr>

  <nav class="pagination">
      <a rel="prev" disabled>Previous</a>
    <span class="current">1 of 11</span>
      <a rel="next" href="/page/2/">Next</a>
  </nav>

      </main>

      <footer>
        <nav>
          <a href="/">Home</a>
          <a href="/about">About</a>
          <a href="/archive">Archive</a>
        </nav>
      </footer>
    </div>

    <script src="/javascripts/adhockery.js"></script>
    <script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-27275689-1', 'auto');
  ga('send', 'pageview');
</script>

    <!-- clicky analytics -->
    <a title="Web Statistics" href="http://clicky.com/100768647"><img alt="Web Statistics" src="//static.getclicky.com/media/links/badge.gif" border="0" /></a>
    <script type="text/javascript">
    var clicky_site_ids = clicky_site_ids || [];
    clicky_site_ids.push(100768647);
    (function() {
      var s = document.createElement('script');
      s.type = 'text/javascript';
      s.async = true;
      s.src = '//static.getclicky.com/js';
      ( document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0] ).appendChild( s );
    })();
    </script>
    <noscript><p><img alt="Clicky" width="1" height="1" src="//in.getclicky.com/100768647ns.gif" /></p></noscript>
    <!-- / analytics -->
    
  </body>
</html>
