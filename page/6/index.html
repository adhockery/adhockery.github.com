<!doctype html>
<html class="no-js">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Ad-Hockery</title>
    <link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/feed.xml" />
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/Icon.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/Icon@2x.png">
    <link rel="stylesheet" href="/stylesheets/adhockery.css">
    <link rel="stylesheet" href="/stylesheets/prism.css">
    <script src="/javascripts/modernizr.custom.js"></script>
    <script src="//use.edgefonts.net/ultra;league-gothic.js"></script>
  </head>
  <body>

    <header>
      <h1 class="logo"><a href="/">Ad-Hockery</a></h1>
      <dl class="strapline">
        <dt>ad-hockery: <em>/ad·hok'@r·ee/</em>, n.</dt>
        <dd>Gratuitous assumptions... which lead to the appearance of semi-intelligent behavior but are in fact entirely arbitrary. <cite><a href="http://www.retrologic.com/jargon/A/ad-hockery.html">Jargon File</a></cite>
      </dl>
    </header>

    <div class="container">
      <main>
          <article>
    <header>
      <time datetime="2011-08-18T21:42:00">Aug 18 2011</time>
      <h2><a href="/2011/08/18/data-driven-variation-with-spock/">Data-driven variation with Spock</a></h2>
    </header>
    <div class="paragraph">
<p>Spock&#8217;s <code>where:</code> block is commonly used with a <a href="https://github.com/robfletcher/grails-enhanced-scaffolding/blob/master/test/projects/scaffolding-example/test/functional/scaffolding/InputTypesSpec.groovy#L18">data table</a> but can also be driven by any <code>Iterable</code> data. It&#8217;s worth bearing in mind that the data driving the <code>where:</code> block doesn&#8217;t have to be hardcoded, it can be dynamic. For example, today we implemented a spec to ensure that every table in our database schema has a primary key (because it&#8217;s required by <a href="http://ha-jdbc.sourceforge.net/">HA-JDBC</a> and not automatically added by GORM on join tables).</p>
</div>

    <a class="read-more" href="/2011/08/18/data-driven-variation-with-spock/">Read more…</a>
  </article>
  <hr>
  <article>
    <header>
      <time datetime="2011-08-02T13:01:00">Aug  2 2011</time>
      <h2><a href="/2011/08/02/avoiding-accidental-i18n-in-grails/">Avoiding accidental i18n in Grails</a></h2>
    </header>
    <div class="paragraph">
<p>We’re developing an app that’s exclusively for a UK audience so i18n really isn’t an issue for us. However recently we got bitten by some i18n creeping in where we didn’t want it. Specifically, when using Grails’ <code>g:dateFormat</code> tag the default behaviour is to format the date according to the <code>Locale</code> specified in the user’s <code>Accept-Language</code> header. Even though we are explicitly specifying a format pattern for the date Java is aware of localized day names for some languages so the output can vary. The result is that on a page full of English text there suddenly appears a Spanish or Swedish day name. What makes things worse is that as we use server-side content caching and a CDN if a user with a non-English <code>Accept-Language</code> header is the first to see a particular page or bit of dynamically retrieved content then the cache is primed and until it expires <em>everyone</em> will see the non-English day name text. The solution in a Grails app is as simple as replacing Spring’s standard <code>localeResolver</code> bean with an instance of <code>FixedLocaleResolver</code>. Just add the following to <em>grails-app/conf/spring/resources.groovy</em>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="groovy language-groovy">localeResolver(org.springframework.web.servlet.i18n.FixedLocaleResolver, Locale.UK)</code></pre>
</div>
</div>
<div class="paragraph">
<p>This changes the way Spring works out the request locale and any locale-aware tags should just fall into place.</p>
</div>
    <a class="read-more" href="/2011/08/02/avoiding-accidental-i18n-in-grails/">Read more…</a>
  </article>
  <hr>
  <article>
    <header>
      <time datetime="2011-05-21T21:59:00">May 21 2011</time>
      <h2><a href="/2011/05/21/resources-plugin-and-modular-web-components-for-grails/">Resources plugin and modular web components for Grails apps</a></h2>
    </header>
    <div class="paragraph">
<p>I recently gave a talk on <a href="http://www.eu2011.gr8conf.org/talk/progressive-uis"><em>Building progressive UIs with Grails</em></a> at <a href="http://www.eu2011.gr8conf.org/">gr8conf</a> in Copenhagen and was really pleased with the feedback &amp; comments I received afterwards. There was a question asked at the end that I felt in retrospect I could have answered better, though. I had mentioned that the Grails <a href="http://grails.org/doc/latest/guide/6.%20The%20Web%20Layer.html#6.7%20Ajax">AJAX tags</a> were something that should be avoided as they write script blocks directly into the page and event handlers directly onto HTML elements. I was pitching an approach based on a clean separation of clean semantic markup and script enhancements and inline script violates that separation.</p>
</div>

    <a class="read-more" href="/2011/05/21/resources-plugin-and-modular-web-components-for-grails/">Read more…</a>
  </article>
  <hr>
  <article>
    <header>
      <time datetime="2011-03-26T16:25:00">Mar 26 2011</time>
      <h2><a href="/2011/03/26/css-box-model-hacking/">CSS box model hacking</a></h2>
    </header>
    <div class="paragraph">
<p>Want to make an HTML element fill 100% of its parent&#8217;s width but also give it a border and/or some padding? Since the width of an element is <em>exclusive</em> of its border and padding this can be a pain. However there&#8217;s a fairly simple CSS solution that works cross-browser.</p>
</div>

    <a class="read-more" href="/2011/03/26/css-box-model-hacking/">Read more…</a>
  </article>
  <hr>
  <article>
    <header>
      <time datetime="2011-03-25T00:10:00">Mar 25 2011</time>
      <h2><a href="/2011/03/25/styling-with-html5-form-validation/">Styling with HTML5 form validation</a></h2>
    </header>
    <div class="paragraph">
<p>HTML5 specifies a number of enhancements to form inputs that are gradually being implemented by newer browsers. Among the enhancements is support for some level of automatic form validation. When inputs have invalid values the browser may refuse to submit the form. Currently Opera, Safari, Chrome and Firefox 4 have some support for this. IE8 does not. I haven&#8217;t experimented with IE9 yet.</p>
</div>

    <a class="read-more" href="/2011/03/25/styling-with-html5-form-validation/">Read more…</a>
  </article>
  <hr>
  <article>
    <header>
      <time datetime="2011-03-06T20:08:00">Mar  6 2011</time>
      <h2><a href="/2011/03/06/date-and-time-inputs-vs-usability/">Date and time inputs vs. usability</a></h2>
    </header>
    <div class="paragraph">
<p>Form input controls for date/time values have always been problematic. The more I experiment with different options, the more I think there is no one-size-fits-all solution.</p>
</div>

    <a class="read-more" href="/2011/03/06/date-and-time-inputs-vs-usability/">Read more…</a>
  </article>
  <hr>
  <article>
    <header>
      <time datetime="2011-02-22T22:31:00">Feb 22 2011</time>
      <h2><a href="/2011/02/22/javascripts-history-object-pushstate-and-the-back/">JavaScript’s history object, pushState and the back button</a></h2>
    </header>
    <div class="paragraph">
<p>I&#8217;m not sure if it&#8217;s the immaturity of the browser support or my general uselessness but I&#8217;ve been having some trouble with the JavaScript <em>history</em> API.</p>
</div>

    <a class="read-more" href="/2011/02/22/javascripts-history-object-pushstate-and-the-back/">Read more…</a>
  </article>
  <hr>
  <article>
    <header>
      <time datetime="2011-02-06T15:02:00">Feb  6 2011</time>
      <h2><a href="/2011/02/06/running-geb-tests-from-your-ide/">Running Geb tests from your IDE</a></h2>
    </header>
    <div class="paragraph">
<p>A frequent complaint about functional testing in Grails is that the start up / shut down cycle time of the app makes prototyping a functional test prohibitive. There has been some recent progress in this are with Luke Daley&#8217;s <a href="http://www.grails.org/plugin/functional-test-development">Functional test development plugin</a> but it would be really nice to be able to just run functional tests from inside your IDE in the same way as a similar unit test.</p>
</div>

    <a class="read-more" href="/2011/02/06/running-geb-tests-from-your-ide/">Read more…</a>
  </article>
  <hr>
  <article>
    <header>
      <time datetime="2010-11-30T13:47:00">Nov 30 2010</time>
      <h2><a href="/2010/11/30/encapsulating-page-state-and-actions-in-geb/">Encapsulating page state and actions in Geb</a></h2>
    </header>
    <div class="paragraph">
<p>Geb <em>Page</em> and <em>Module</em> classes are just regular Groovy classes. In addition to the <em>content</em> DSL you can declare methods just as you would in any other class. Those methods can use content properties directly. This is really useful for encapsulating state and actions in a reusable way.</p>
</div>
<div class="paragraph">
<p>In this post I want to run through a couple of simple examples of re-usable <em>Module</em> classes that are enhanced with methods. Although the examples deal with <em>Module</em> classes everything here is equally applicable to <em>Page</em> classes.</p>
</div>

    <a class="read-more" href="/2010/11/30/encapsulating-page-state-and-actions-in-geb/">Read more…</a>
  </article>
  <hr>
  <article>
    <header>
      <time datetime="2010-11-26T00:17:00">Nov 26 2010</time>
      <h2><a href="/2010/11/26/modelling-repeating-structures-with-geb-page-objects/">Modelling repeating structures with Geb page objects</a></h2>
    </header>
    <div class="paragraph">
<p><a href="http://geb.codehaus.org/">Geb</a> is the hot new thing in Grails functional testing. One of its most powerful features is the concise DSL for defining page objects. The reasons for using page objects are <a href="http://code.google.com/p/selenium/wiki/PageObjects">well</a> <a href="http://robfletcher.github.com/grails-selenium-rc/docs/manual/guide/4.%20Using%20Page%20Objects.html">enumerated</a> <a href="http://geb.codehaus.org/manual/latest/pages.html#the_page_object_pattern_why">elsewhere</a> but the basic point is to allow your tests to interact with pages in a manner agnostic of the detail of their structure. This is both practical (you can change markup structure without having to fix numerous tests that only fail because they were tightly coupled to that structure) and aesthetic (your tests read more like a user&#8217;s interaction with the page - the <em>what</em> rather than the <em>how</em>).</p>
</div>
<div class="paragraph">
<p>I want to put together a few short blog posts dealing with patterns that I find useful for defining page objects and modules in Geb. As I go I&#8217;ll keep adding to a very simple Grails project showing working examples which is <a href="https://github.com/robfletcher/geb-examples/">available on GitHub</a>.</p>
</div>
<div class="paragraph">
<p>In this post I want to talk about repeating data structures such as lists and tables and how to model them effectively.</p>
</div>

    <a class="read-more" href="/2010/11/26/modelling-repeating-structures-with-geb-page-objects/">Read more…</a>
  </article>
  <hr>

  <nav class="pagination">
      <a rel="prev" href="/page/5/">Previous</a>
    <span class="current">6 of 11</span>
      <a rel="next" href="/page/7/">Next</a>
  </nav>

      </main>

      <footer>
        <nav>
          <a href="/">Home</a>
          <a href="/about">About</a>
          <a href="/archive">Archive</a>
        </nav>
      </footer>
    </div>

    <script src="/javascripts/adhockery.js"></script>
    <script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-27275689-1', 'auto');
  ga('send', 'pageview');
</script>

    <!-- clicky analytics -->
    <a title="Web Statistics" href="http://clicky.com/100768647"><img alt="Web Statistics" src="//static.getclicky.com/media/links/badge.gif" border="0" /></a>
    <script type="text/javascript">
    var clicky_site_ids = clicky_site_ids || [];
    clicky_site_ids.push(100768647);
    (function() {
      var s = document.createElement('script');
      s.type = 'text/javascript';
      s.async = true;
      s.src = '//static.getclicky.com/js';
      ( document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0] ).appendChild( s );
    })();
    </script>
    <noscript><p><img alt="Clicky" width="1" height="1" src="//in.getclicky.com/100768647ns.gif" /></p></noscript>
    <!-- / analytics -->
    
  </body>
</html>
